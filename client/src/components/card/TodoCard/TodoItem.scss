@import "styles/utils";

.todo-item {
    $todo-item__size: rem(18px);
    $todo-item__border: rem(1px) solid gray;

    $todo-item__check-box__background: #1b4a4e;
    $todo-item__check-box__size: rem(20px);
    $todo-item__check-box__font-size: rem(20px);
    $todo-item__check-box__font-color: $color-white;

    $todo-item__todo-label__margin-x: rem(12px);

    $todo-item__button-delete__color: $color-gray;
    $todo-item__button-delete__color-hover: $color-red;

    @include flex(flex-start, center);

    position: relative;
    height: rem(40px);

    .check-box {
        @include init-button;
        @include flex(center, center);
        @include transition(all, 0.15s, ease-in);

        width: $todo-item__check-box__size;
        height: $todo-item__check-box__size;

        border: $todo-item__border;
        border-radius: 50%;

        color: $todo-item__check-box__font-color;
        font-size: $todo-item__check-box__font-size;
    }

    .todo-label {
        @include ellipsis();
        margin: 0 $todo-item__todo-label__margin-x;
    }

    &.done {
        .check-box {
            background: $todo-item__check-box__background;
        }

        label {
            position: relative;
            color: gray;

            &:before {
                content: "";
                background: #999;

                display: block;
                position: absolute;
                top: 50%;
                left: -0.2rem;
                height: rem(1px);
                width: 0%;

                animation: stroke 0.2s ease-out 0s forwards;
            }

            @keyframes stroke {
                to {
                    width: calc(100% + 0.4rem);
                }
            }
        }
    }

    .button-delete {
        @include init-button;
        @include flex(center, center);
        @include transition(color, 0.2s);

        margin-left: auto;

        color: $todo-item__button-delete__color;
        font-size: $todo-item__size;

        &:hover {
            color: $todo-item__button-delete__color-hover;
        }
    }
}
